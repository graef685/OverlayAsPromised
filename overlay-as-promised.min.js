var OverlayAsPromised={config:{selector:"",permanent:!0,closable:!0,startingDelay:0,minDisplayTime:0,maxDisplayTime:0},create:function(e,i,n){return this.init(e,i,n),Object.create(this.overlay)},init:function(e,i,n){this.config.selector=null!=e.selector?e.selector:this.config.selector,this.config.permanent=null!=e.permanent?e.permanent:this.config.permanent,this.config.closable=null!=e.closable?e.closable:this.config.closable,this.config.startingDelay=null!=e.startingDelay?e.startingDelay:this.config.startingDelay,this.config.minDisplayTime=null!=e.minDisplayTime?e.minDisplayTime:this.config.minDisplayTime,this.config.maxDisplayTime=null!=e.maxDisplayTime?e.maxDisplayTime:this.config.maxDisplayTime,this.overlay.onOpen=null!=i?i:this.overlay.onOpen,this.overlay.onClose=null!=n?n:this.overlay.onClose},overlay:{open:function(){var e=Date.now();return setTimeout(function(){$.colorbox({inline:!0,href:$(OverlayAsPromised.config.selector),initialWidth:320,open:!0,content:$(OverlayAsPromised.config.selector).html(),closeButton:OverlayAsPromised.config.closable,overlayClose:OverlayAsPromised.config.closable,escKey:OverlayAsPromised.config.closable,fixed:!0,onOpen:function(){return $(OverlayAsPromised.config.selector).show()},onClose:function(){return $(OverlayAsPromised.config.selector).hide()}}),setTimeout(function(){OverlayAsPromised.overlay.onOpen()},OverlayAsPromised.config.startingDelay+OverlayAsPromised.config.minDisplayTime),OverlayAsPromised.config.maxDisplayTime>0&&!1===OverlayAsPromised.config.permanent&&setInterval(function(){if(e+OverlayAsPromised.config.startingDelay+OverlayAsPromised.config.maxDisplayTime<Date.now())return OverlayAsPromised.overlay.close()},50)},OverlayAsPromised.config.startingDelay),$.when()},close:function(){return $.colorbox.close(),OverlayAsPromised.overlay.onClose(),$.when()},onOpen:function(){},onClose:function(){}}};
