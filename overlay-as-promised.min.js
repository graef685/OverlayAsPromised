!function(n){n.overlayAsPromised=function(e,o,i){var l=this;return l.config={selector:"",permanent:!0,closable:!0,startingDelay:0,minDisplayTime:0,maxDisplayTime:0},l.init=function(n,e,o){l.config.selector=null!=n.selector?n.selector:l.config.selector,l.config.permanent=null!=n.permanent?n.permanent:l.config.permanent,l.config.closable=null!=n.closable?n.closable:l.config.closable,l.config.startingDelay=null!=n.startingDelay?n.startingDelay:l.config.startingDelay,l.config.minDisplayTime=null!=n.minDisplayTime?n.minDisplayTime:l.config.minDisplayTime,l.config.maxDisplayTime=null!=n.maxDisplayTime?n.maxDisplayTime:l.config.maxDisplayTime,l.overlay.onOpen=null!=e?e:l.overlay.onOpen,l.overlay.onClose=null!=o?o:l.overlay.onClose},l.overlay={open:function(){var e=Date.now();return setTimeout(function(){n.colorbox({inline:!0,href:n(l.config.selector),initialWidth:320,open:!0,content:n(l.config.selector).html(),closeButton:l.config.closable,overlayClose:l.config.closable,escKey:l.config.closable,fixed:!0,onOpen:function(){return n(l.config.selector).show()},onClosed:function(){return l.overlay.onClose(),n(l.config.selector).hide()}}),setTimeout(function(){l.overlay.onOpen()},l.config.startingDelay+l.config.minDisplayTime),l.config.maxDisplayTime>0&&!1===l.config.permanent&&setInterval(function(){if(e+l.config.startingDelay+l.config.maxDisplayTime<Date.now())return l.overlay.close()},50)},l.config.startingDelay),n.when()},close:function(){return n.colorbox.close(),l.overlay.onClose(),n.when()},onOpen:function(){},onClose:function(){}},l.init(e,o,i),Object.create(l.overlay)}}(jQuery);
