!function(i){i.overlayAsPromised=function(n,o,e){var t=this;return t.config={selector:"",closable:!0,startingDelay:0,minDisplayTime:0,maxDisplayTime:0,width:!1,height:!1,maxWidth:!1,maxHeight:!1,top:!1,bottom:!1,left:!1,right:!1,className:!1,transition:"elastic",speed:350},t.init=function(i,n,o){t.config.selector=null!=i.selector?i.selector:t.config.selector,t.config.closable=null!=i.closable?i.closable:t.config.closable,t.config.startingDelay=null!=i.startingDelay?i.startingDelay:t.config.startingDelay,t.config.minDisplayTime=null!=i.minDisplayTime?i.minDisplayTime:t.config.minDisplayTime,t.config.maxDisplayTime=null!=i.maxDisplayTime?i.maxDisplayTime:t.config.maxDisplayTime,t.config.width=null!=i.width?i.width:t.config.width,t.config.height=null!=i.height?i.height:t.config.height,t.config.maxWidth=null!=i.maxWidth?i.maxWidth:t.config.maxWidth,t.config.maxHeight=null!=i.maxHeight?i.maxHeight:t.config.maxHeight,t.config.top=null!=i.top?i.top:t.config.top,t.config.bottom=null!=i.bottom?i.bottom:t.config.bottom,t.config.left=null!=i.left?i.left:t.config.left,t.config.right=null!=i.right?i.right:t.config.right,t.config.className=null!=i.className?i.className:t.config.className,t.config.transition=null!=i.transition?i.transition:t.config.transition,t.config.speed=null!=i.speed?i.speed:t.config.speed,t.overlay.onOpen=null!=n?n:t.overlay.onOpen,t.overlay.onClose=null!=o?o:t.overlay.onClose},t.overlay={open:function(){var n=Date.now(),o=i.Deferred();return setTimeout(function(){i.colorbox({inline:!0,href:i(t.config.selector),initialWidth:320,open:!0,content:i(t.config.selector).html(),closeButton:t.config.closable,overlayClose:t.config.closable,escKey:t.config.closable,fixed:!0,width:t.config.width,height:t.config.height,maxWidth:t.config.maxWidth,maxHeight:t.config.maxHeight,top:t.config.top,bottom:t.config.bottom,left:t.config.left,right:t.config.right,className:t.config.className,transition:t.config.transition,speed:t.config.speed,onOpen:function(){return i(t.config.selector).show()},onClosed:function(){return t.overlay.onClose(),i(t.config.selector).hide()}}),setTimeout(function(){i.when(t.overlay.onOpen()).then(function(i){o.resolve(i)})},t.config.startingDelay+t.config.minDisplayTime),t.config.maxDisplayTime>0&&setInterval(function(){if(n+t.config.startingDelay+t.config.maxDisplayTime<Date.now())return t.overlay.close()},50)},t.config.startingDelay),o.promise()},close:function(){var n=i.Deferred();return i.colorbox.close(),i.when(t.overlay.onClose()).then(function(i){n.resolve(i)}),n.promise()},onOpen:function(){},onClose:function(){}},t.init(n,o,e),Object.create(t.overlay)}}(jQuery);
