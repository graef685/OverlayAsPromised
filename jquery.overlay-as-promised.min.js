!function(e){e.fn.overlayAsPromised=function(o,n,i){var t=this,l={config:{}},a={closable:!0,startingDelay:0,minDisplayTime:0,maxDisplayTime:0,width:!1,height:!1,maxWidth:!1,maxHeight:!1,top:!1,bottom:!1,left:!1,right:!1,className:!1,transition:"elastic",speed:350,fixed:!1};return l.init=function(o,n,i){l.config=e.extend(!0,{},a,o),l.overlay.onOpen=null!=n?n:l.overlay.onOpen,l.overlay.onClose=null!=i?i:l.overlay.onClose},l.overlay={open:function(){var o=Date.now(),n=e.Deferred();return setTimeout(function(){e.colorbox({inline:!0,href:t,initialWidth:320,open:!0,content:t.html(),closeButton:l.config.closable,overlayClose:l.config.closable,escKey:l.config.closable,fixed:l.config.fixed,width:l.config.width,height:l.config.height,maxWidth:l.config.maxWidth,maxHeight:l.config.maxHeight,top:l.config.top,bottom:l.config.bottom,left:l.config.left,right:l.config.right,className:l.config.className,transition:l.config.transition,speed:l.config.speed,onOpen:function(){return t.show()},onClosed:function(){return l.overlay.onClose(),t.hide()}}),setTimeout(function(){e.when(l.overlay.onOpen()).then(function(e){n.resolve(e)})},l.config.startingDelay+l.config.minDisplayTime),l.config.maxDisplayTime>0&&setInterval(function(){if(o+l.config.startingDelay+l.config.maxDisplayTime<Date.now())return l.overlay.close()},50)},l.config.startingDelay),n.promise()},close:function(){var o=e.Deferred();return e.colorbox.close(),e.when(l.overlay.onClose()).then(function(e){o.resolve(e)}),o.promise()},onOpen:function(){},onClose:function(){}},l.init(o,n,i),Object.create(l.overlay)}}(jQuery);